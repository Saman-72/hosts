mixed-port: 7890
allow-lan: true
tcp-concurrent: true
enable-process: true
find-process-mode: always
global-client-fingerprint: chrome


mode: rule
log-level: error ## silent/error/warning/info/debug
ipv6: true
external-controller: 127.0.0.1:9090
profile:
  store-selected: false ## It's better to default to "auto" every time it restarts.
  store-fake-ip: true
  tracing: false
sniffer: 
  enable: true 
  sniffing: 
    - http 
    - tls 
 
tun: 
  enable: true 
  stack: system # or gvisor 
  dns-hijack:
    - any:53
    - tcp://any:53
  auto-redir: true
  auto-route: true
  auto-detect-interface: true
 
dns:
  enable: true
  #listen: 127.0.0.1:53 ## Or 0.0.0.0:53 for LAN.
  ipv6: true
  prefer-h3: true
  default-nameserver: 
    - '127.0.0.1'
    - '1.1.1.1'
    - '8.8.8.8'
    - '217.218.155.155'
  enhanced-mode: fake-ip
  use-hosts: true
  nameserver:
    - '127.0.0.1'
    - '217.218.155.155'
    - '8.8.8.8'
    - '1.1.1.1'
  fake-ip-filter:
    - "*.lan"
    - stun.*.*.*
    - stun.*.*
    - time.windows.com
    - time.nist.gov
    - time.apple.com
    - time.asia.apple.com
    - "*.openwrt.pool.ntp.org"
    - pool.ntp.org
    - ntp.ubuntu.com
    - time1.apple.com
    - time2.apple.com
    - time3.apple.com
    - time4.apple.com
    - time5.apple.com
    - time6.apple.com
    - time7.apple.com
    - time1.google.com
    - time2.google.com
    - time3.google.com
    - time4.google.com
    - api.joox.com
    - joox.com
    - "*.xiami.com"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - '+.xboxlive.com'
    - "*.*.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.ipv6.microsoft.com"
    - speedtest.cros.wr.pvp.net
  fallback:
    - '1.0.0.1'
    - '8.8.4.4'
  fallback-filter:
    geoip: true
    geoip-code: IR
    ipcidr:
      - '0.0.0.0/8'
      - '10.0.0.0/8'
      - '100.64.0.0/10'
      - '127.0.0.0/8'
      - '169.254.0.0/16'
      - '172.16.0.0/12'
      - '192.0.0.0/24'
      - '192.0.2.0/24'
      - '192.88.99.0/24'
      - '192.168.0.0/16'
      - '198.18.0.0/15'
      - '198.51.100.0/24'
      - '203.0.113.0/24'
      - '224.0.0.0/3'
      - '240.0.0.0/4'
      - '::1/128'
      - '64:ff9b:1::/48'
      - 'fc00::/7'
      - 'fe80::/10'
    domain:
    - +.google.com
    - +.facebook.com
    - +.youtube.com
    - +.gvt1.com
    - '+.twitter.com'
    - '+.bing.com'
      

proxies:
  - {name: "@Helix-Servers TCP-1", server: 172.105.74.94, port: 10100, type: vmess, uuid: f064f495-5ebf-4302-ef50-32ef28576237, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: telewebion.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [telewebion.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-2", server: 172.105.74.94, port: 10090, type: vmess, uuid: 61bb819f-e5ef-40eb-bacd-9669a7dd22f4, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Ponisha.ir, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Ponisha.ir]}}, udp: true}
  - {name: "@Helix-Servers TCP-3", server: 172.105.74.94, port: 10080, type: vmess, uuid: c931d5b5-31d9-4644-bcf4-1808c973ceee, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: iranserver.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [iranserver.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-4", server: 172.105.74.94, port: 10070, type: vmess, uuid: c0d2a359-fd15-4b46-f419-ac927b53112f, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [cdn.accuweather.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-5", server: 172.105.74.94, port: 10060, type: vless, uuid: ecc1d542-b089-44fa-dab6-1e4f31559f1d, cipher: auto, tls: false, skip-cert-verify: true, servername: Zula.ir, udp: true}
  - {name: "@Helix-Servers TCP-6", server: 172.105.74.94, port: 10050, type: vmess, uuid: 3887f167-18ae-4ee4-ceb1-3b2244c1a4f0, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Zarinpal.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Zarinpal.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-7", server: 172.105.74.94, port: 10040, type: vmess, uuid: b39ad4e1-c84e-419c-e5c1-e312c170c44e, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Digicert.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Digicert.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-8", server: 172.105.74.94, port: 10030, type: vmess, uuid: 5209ef12-a52b-44b9-eb54-980bd8af9a0c, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Speedtest.net, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Speedtest.net]}}, udp: true}
  - {name: "@Helix-Servers TCP-9", server: 172.105.74.94, port: 10020, type: vmess, uuid: f2fa06e2-5af1-4dbf-f226-013cd0d609e3, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Eset.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Eset.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-10", server: 172.105.74.94, port: 10010, type: vmess, uuid: 8bdc8270-a5b4-41dd-9368-b29049c06d2e, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Discord.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Discord.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-11", server: 172.105.74.94, port: 10000, type: vmess, uuid: 0af0fe5f-edfb-4346-a2ab-c98ca977e4b2, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Alibaba.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Alibaba.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-1 2", server: helix3.sant.ir, port: 10100, type: vmess, uuid: f064f495-5ebf-4302-ef50-32ef28576237, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: telewebion.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [telewebion.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-2 2", server: helix3.sant.ir, port: 10090, type: vmess, uuid: 61bb819f-e5ef-40eb-bacd-9669a7dd22f4, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Ponisha.ir, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Ponisha.ir]}}, udp: true}
  - {name: "@Helix-Servers TCP-3 2", server: helix3.sant.ir, port: 10080, type: vmess, uuid: c931d5b5-31d9-4644-bcf4-1808c973ceee, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: iranserver.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [iranserver.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-4 2", server: helix3.sant.ir, port: 10070, type: vmess, uuid: c0d2a359-fd15-4b46-f419-ac927b53112f, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [cdn.accuweather.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-5 2", server: helix3.sant.ir, port: 10060, type: vless, uuid: ecc1d542-b089-44fa-dab6-1e4f31559f1d, cipher: auto, tls: false, skip-cert-verify: true, servername: Zula.ir, udp: true}
  - {name: "@Helix-Servers TCP-6 2", server: helix3.sant.ir, port: 10050, type: vmess, uuid: 3887f167-18ae-4ee4-ceb1-3b2244c1a4f0, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Zarinpal.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Zarinpal.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-7 2", server: helix3.sant.ir, port: 10040, type: vmess, uuid: b39ad4e1-c84e-419c-e5c1-e312c170c44e, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Digicert.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Digicert.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-8 2", server: helix3.sant.ir, port: 10030, type: vmess, uuid: 5209ef12-a52b-44b9-eb54-980bd8af9a0c, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Speedtest.net, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Speedtest.net]}}, udp: true}
  - {name: "@Helix-Servers TCP-9 2", server: helix3.sant.ir, port: 10020, type: vmess, uuid: f2fa06e2-5af1-4dbf-f226-013cd0d609e3, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Eset.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Eset.com]}}, udp: true}
  - {name: "@Helix-Servers TCP-10 2", server: helix3.sant.ir, port: 10010, type: vmess, uuid: 8bdc8270-a5b4-41dd-9368-b29049c06d2e, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: Discord.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [Discord.com]}}, udp: true}
  - {name: "@Helix_Server Reality-2", server: helix3.sant.ir, port: 8443, type: vless, uuid: 67fb3681-b634-41a2-d2b9-4367aa3fe15c, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: grpc, grpc-opts: {grpc-service-name: JoyBoy}, udp: true}
  - {name: "@Helix_Servers GRPC-Helix", server: 139.162.159.171, port: 10100, type: vless, uuid: e2ab9dd9-4e84-4fd5-e540-cef6b5866a59, cipher: auto, tls: false, skip-cert-verify: true, servername: "", network: grpc, grpc-opts: {grpc-service-name: HelixT}, udp: true}
  - {name: "@Helix_Servers TCP-Helix1", server: 139.162.159.171, port: 10010, type: vmess, uuid: 407e3c0f-5fa9-4d75-d234-e945b0c14f71, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: telewebion.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [telewebion.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix2", server: 139.162.159.171, port: 10020, type: vmess, uuid: 18e7b3c5-0748-4ec5-ffb3-0a53b3514696, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: ponisha.ir, network: http, http-opts: {method: GET, path: [/], headers: {Host: [ponisha.ir]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix3", server: 139.162.159.171, port: 10030, type: vmess, uuid: 37d641d6-d909-4564-dd5e-f012ea8af3c9, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: alibaba.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [alibaba.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix4", server: 139.162.159.171, port: 10040, type: vmess, uuid: 4bfdee9b-7feb-4dec-b0b6-1459a5f66581, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: digicert.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [digicert.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix5", server: 139.162.159.171, port: 10050, type: vmess, uuid: 30619438-c037-40cc-c1d1-5387945f93b0, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [cdn.accuweather.com]}}, udp: true}
  - {name: "@Helix_Servers Reality-Helix3", server: 139.162.159.171, port: 1443, type: vless, uuid: 9be40413-9866-43ae-e9ab-959674447ad2, cipher: auto, tls: false, skip-cert-verify: true, servername: opensource.org, network: grpc, grpc-opts: {grpc-service-name: Helix3}, udp: true}
  - {name: "@Helix_Servers Reality-Helix2", server: 139.162.159.171, port: 443, type: vless, uuid: 68d434ae-e25b-475c-b5a6-a07eb9ef1ec6, cipher: auto, tls: false, skip-cert-verify: true, servername: discord.com, network: grpc, grpc-opts: {grpc-service-name: Helix2}, udp: true}
  - {name: "@Helix_Servers Reality-Helix1", server: 139.162.159.171, port: 8443, type: vless, uuid: 3b90d953-c3a3-489e-e13a-6d8f247e202e, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: grpc, grpc-opts: {grpc-service-name: Helix}, udp: true}
  - {name: "@Helix_Servers TCP-Helix1 2", server: Helix3.sant.ir, port: 10010, type: vmess, uuid: 745997f0-8ad3-45f8-de6c-5e2fef3dcd77, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: telewebion.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [telewebion.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix2 2", server: Helix3.sant.ir, port: 10020, type: vmess, uuid: 2ed087c7-bbfd-4fe4-b329-6c5e18a25b0c, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: ponisha.ir, network: http, http-opts: {method: GET, path: [/], headers: {Host: [ponisha.ir]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix3 2", server: Helix3.sant.ir, port: 10030, type: vmess, uuid: 1692efcf-d357-44c9-a5a5-8a7595177608, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: alibaba.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [alibaba.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix4 2", server: Helix3.sant.ir, port: 10040, type: vmess, uuid: be6d0f54-16d4-4896-b1ed-6f292030f9f5, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: digicert.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [digicert.com]}}, udp: true}
  - {name: "@Helix_Servers TCP-Helix5 2", server: Helix3.sant.ir, port: 10050, type: vmess, uuid: 84f2cde1-136c-43d5-976b-f48065bf6521, alterId: 0, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: http, http-opts: {method: GET, path: [/], headers: {Host: [cdn.accuweather.com]}}, udp: true}
  - {name: "@Helix_Servers Reality-1", server: Helix3.sant.ir, port: 8443, type: vless, uuid: 47706b3b-8a18-4b61-8f8d-6e74648a9051, cipher: auto, tls: false, skip-cert-verify: true, servername: cdn.accuweather.com, network: grpc, grpc-opts: {grpc-service-name: Helix}, udp: true}
  - {name: "@Helix_Servers Reality-2", server: Helix3.sant.ir, port: 443, type: vless, uuid: 4e417a95-3aba-41a9-c825-27ef0f2c5195, cipher: auto, tls: false, skip-cert-verify: true, servername: discord.com, network: grpc, grpc-opts: {grpc-service-name: Helix1}, udp: true}

proxy-groups:
  - name: ðŸ”° All Proxies
    type: select
    proxies:
      - ðŸ”¥ Auto(Best ping)
      - DIRECT

      - "@Helix-Servers TCP-1"
      - "@Helix-Servers TCP-2"
      - "@Helix-Servers TCP-3"
      - "@Helix-Servers TCP-4"
      - "@Helix-Servers TCP-5"
      - "@Helix-Servers TCP-6"
      - "@Helix-Servers TCP-7"
      - "@Helix-Servers TCP-8"
      - "@Helix-Servers TCP-9"
      - "@Helix-Servers TCP-10"
      - "@Helix-Servers TCP-11"
      - "@Helix-Servers TCP-1 2"
      - "@Helix-Servers TCP-2 2"
      - "@Helix-Servers TCP-3 2"
      - "@Helix-Servers TCP-4 2"
      - "@Helix-Servers TCP-5 2"
      - "@Helix-Servers TCP-6 2"
      - "@Helix-Servers TCP-7 2"
      - "@Helix-Servers TCP-8 2"
      - "@Helix-Servers TCP-9 2"
      - "@Helix-Servers TCP-10 2"
      - "@Helix_Server Reality-2"
      - "@Helix_Servers GRPC-Helix"
      - "@Helix_Servers TCP-Helix1"
      - "@Helix_Servers TCP-Helix2"
      - "@Helix_Servers TCP-Helix3"
      - "@Helix_Servers TCP-Helix4"
      - "@Helix_Servers TCP-Helix5"
      - "@Helix_Servers Reality-Helix3"
      - "@Helix_Servers Reality-Helix2"
      - "@Helix_Servers Reality-Helix1"
      - "@Helix_Servers TCP-Helix1 2"
      - "@Helix_Servers TCP-Helix2 2"
      - "@Helix_Servers TCP-Helix3 2"
      - "@Helix_Servers TCP-Helix4 2"
      - "@Helix_Servers TCP-Helix5 2"
      - "@Helix_Servers Reality-1"
      - "@Helix_Servers Reality-2"

  - name: ðŸ”¥ Auto(Best ping)
    type: url-test
    url: http://clients3.google.com/generate_204
    interval: 600
    tolerance: 50
    proxies:

      - "@Helix-Servers TCP-1"
      - "@Helix-Servers TCP-2"
      - "@Helix-Servers TCP-3"
      - "@Helix-Servers TCP-4"
      - "@Helix-Servers TCP-5"
      - "@Helix-Servers TCP-6"
      - "@Helix-Servers TCP-7"
      - "@Helix-Servers TCP-8"
      - "@Helix-Servers TCP-9"
      - "@Helix-Servers TCP-10"
      - "@Helix-Servers TCP-11"
      - "@Helix-Servers TCP-1 2"
      - "@Helix-Servers TCP-2 2"
      - "@Helix-Servers TCP-3 2"
      - "@Helix-Servers TCP-4 2"
      - "@Helix-Servers TCP-5 2"
      - "@Helix-Servers TCP-6 2"
      - "@Helix-Servers TCP-7 2"
      - "@Helix-Servers TCP-8 2"
      - "@Helix-Servers TCP-9 2"
      - "@Helix-Servers TCP-10 2"
      - "@Helix_Server Reality-2"
      - "@Helix_Servers GRPC-Helix"
      - "@Helix_Servers TCP-Helix1"
      - "@Helix_Servers TCP-Helix2"
      - "@Helix_Servers TCP-Helix3"
      - "@Helix_Servers TCP-Helix4"
      - "@Helix_Servers TCP-Helix5"
      - "@Helix_Servers Reality-Helix3"
      - "@Helix_Servers Reality-Helix2"
      - "@Helix_Servers Reality-Helix1"
      - "@Helix_Servers TCP-Helix1 2"
      - "@Helix_Servers TCP-Helix2 2"
      - "@Helix_Servers TCP-Helix3 2"
      - "@Helix_Servers TCP-Helix4 2"
      - "@Helix_Servers TCP-Helix5 2"
      - "@Helix_Servers Reality-1"
      - "@Helix_Servers Reality-2"

  - name: ðŸŽ¯ Direct
    type: select
    proxies:
      - DIRECT

  - name: â›”BLOCK
    type: select
    proxies:
      - REJECT

rule-providers:
  iran:
    type: http
    format: text
    behavior: domain
    url: https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules.txt
    path: ./ruleset/iran.txt
    interval: 432000
  ADs:
    type: http
    format: text
    behavior: domain
    url: https://github.com/farrokhi/adblock-iran/raw/master/pihole.txt
    path: ./ruleset/pihole.txt
    interval: 432000
  blocked-sites:
    behavior: classical
    interval: 432000
    path: ./ruleset/blocked.yaml
    type: http
    url: https://raw.githubusercontent.com/mahanmi/iran-clash-example/main/clash-rules/blocked-sites.yaml
  ads-sites:
    behavior: classical
    interval: 432000
    path: ./ruleset/ad-sites.yaml
    type: http
    url: https://raw.githubusercontent.com/mahanmi/iran-clash-example/main/clash-rules/ads-sites.yml


rules:
  - MATCH ,ðŸ”° All Proxies,ðŸ”¥ Auto(Best ping),IR,DIRECT 